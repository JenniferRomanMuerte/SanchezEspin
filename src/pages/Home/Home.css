/* ───────────────────────── Contenedor Home ───────────────────────── */
.home {
  /* divisor del SplitImage (0%..100%) */
  --split-p: 50%;
  --split-r: calc(100% - var(--split-p));

  height: var(--height-h);
  position: relative; /* contexto para z-index */
}

/* Contenido (encima de imagen/capas) */
.home__content {
  display: flex;
  flex-direction: column;
  justify-content: space-between; /* reparte: h1 arriba, split en medio, h2 abajo */
  align-items: center;

  height: 100%; /* ocupa siempre var(--height-h) */
  max-height: 100%; /* nunca excede */
  overflow: hidden; /* evita desbordes */
  padding: 1rem; /* ajusta según quieras */
  box-sizing: border-box;
}

/* La celda de la imagen se estira en vertical */
.home__content > .split-container {
  align-self: stretch;
  height: 100%;
  min-height: 0;
  z-index: 2;
}

/* ───────────────────────── Títulos ───────────────────────── */
.home__title,
.home__subtitle {
  position: relative;
  z-index: 2;
  font-family: var(--font-title);
  font-weight: 700;
  text-align: center;
  margin-inline: auto;
  line-height: 1.05;
  text-wrap: balance;
  max-width: 90%;
  opacity: 0; /* se muestran con la animación */
  letter-spacing: 0.5px;
  font-size: clamp(2rem, 6vw, 3.5rem);
}

.home__title {
  margin: 0 0 clamp(0.6rem, 2vh, 1.2rem) 0;
}
.home__subtitle {
  margin: clamp(0.6rem, 2vh, 1.2rem) 0 0 0;
}

.home__subtitle {
  text-shadow: 0 1px 1px rgba(0, 0, 0, 0.15);
  padding-right: 0.3rem;
  color: inherit;
}

/* Medidor invisible para tamaño del texto */
.home__measure {
  visibility: hidden;
  display: block;
}

/* ─────────── Capas (dos colores lisos con clip invertido) ─────────── */
.home__layer {
  position: absolute;
  inset: 0;
  display: grid;
  place-items: center;
  white-space: inherit;
  pointer-events: none;
  will-change: clip-path;
}

/* Marrón: se revela desde la DERECHA (opuesto) */
.home__layer--brown {
  color: var(--color-text-muted);
  clip-path: inset(0 0 0 var(--cut, 50%));
}

/* Azul: se revela desde la IZQUIERDA (opuesto) */
.home__layer--blue {
  color: var(--color-secondary);
  clip-path: inset(0 calc(100% - var(--cut, 50%)) 0 0);
  text-shadow: 0 1px 1px rgba(0, 0, 0, 0.12);
}

/* ─────────── Estado inicial (H1 marrón completo, H2 azul completo) ─────────── */
.home__title {
  --cut: 0%;
} /* muestra 100% marrón */
.home__subtitle {
  --cut: 100%;
} /* muestra 100% azul   */

/* Al mover el slider, los textos pasan al color OPUESTO a la parte dominante */
.home.has-moved .home__title,
.home.has-moved .home__subtitle {
  --cut: calc(100% - var(--split-p));
}

/* ───────────────────────── Interacción Split ───────────────────────── */
.home.locked .split-container {
  pointer-events: none;
  cursor: default;
}
.home.ready .split-container {
  cursor: ew-resize;
}

/* ───────────────────────── Animaciones de entrada ───────────────────────── */
.from-left {
  transform: translateX(-120vw);
}
.from-right {
  transform: translateX(120vw);
}

.is-in {
  opacity: 1;
}
.is-in.from-left {
  animation: acrossLeft var(--fx-dur) var(--fx-ease) both;
}
.is-in.from-right {
  animation: acrossRight var(--fx-dur) var(--fx-ease) both;
}

@keyframes acrossLeft {
  0% {
    transform: translateX(-120vw);
    opacity: 0;
  }
  55% {
    transform: translateX(60vw);
    opacity: 1;
  }
  80% {
    transform: translateX(-10vw);
  }
  100% {
    transform: translateX(0);
    opacity: 1;
  }
}
@keyframes acrossRight {
  0% {
    transform: translateX(120vw);
    opacity: 0;
  }
  55% {
    transform: translateX(-60vw);
    opacity: 1;
  }
  80% {
    transform: translateX(10vw);
  }
  100% {
    transform: translateX(0);
    opacity: 1;
  }
}

/* Reduce motion */
@media (prefers-reduced-motion: reduce) {
  .from-left,
  .from-right {
    transform: none;
  }
  .is-in {
    animation: none !important;
    opacity: 1 !important;
  }
}

/* ───────────────────────── Responsive ───────────────────────── */
@media (min-width: 768px) {
   .home__content {
    display: grid; /* volvemos al grid */
    grid-template-rows: 1fr;
    grid-template-columns:
      minmax(0, 1fr)
      minmax(22rem, 40vw)
      minmax(0, 1fr);
    align-items: center;
    column-gap: clamp(1rem, 3vw, 3rem);
    padding: 2rem 3rem;
    text-align: left;
  }
  .home__content > .split-container {
    align-self: stretch;
    justify-self: center;
    height: 100%;
    max-height: 100%;
  }

  .home__title,
  .home__subtitle {
    font-size: clamp(2.8rem, 4vw, 5rem); /* más contenido sin desbordar */
    max-width: min(28ch, 40vw);
    margin: 0;
  }

  .home__title {
    place-self: center start;
    text-align: right; /* alineado hacia la imagen */
    padding-inline: 0.5rem;
  }
  .home__subtitle {
    place-self: center end;
    text-align: left; /* alineado hacia la imagen */
    padding-inline: 0.5rem;
  }
}

@media (min-width: 1024px) {
  .home__content {
    max-width: 1200px; /* limita el ancho máximo */
    margin: 0 auto;    /* centra el bloque */
    column-gap: clamp(2rem, 5vw, 6rem);
  }

  .home__title,
  .home__subtitle {
    font-size: clamp(3.2rem, 3.8vw, 6rem);
  }
}
