/* ───────────────────────── Vars de la sección ───────────────────────── */
:root{
  /* Paleta despacho */
  --law-brown: #443b28;   /* marrón */
  --law-blue:  #2c4563;   /* azul traje */
}

/* ───────────────────────── Contenedor Home ───────────────────────── */
.home{
  /* divisor del SplitImage (0%..100%) */
  --split-p: 50%;
  --split-r: calc(100% - var(--split-p));

  height: var(--height-h);
  position: relative; /* contexto para z-index */
}

/* Contenido (encima de imagen/capas) */
.home__content{
  position: relative;
  z-index: 2;
  width: 100%;
  max-width: 1200px;
  height: 100%;
  min-height: 0;
  margin: 0 auto;

  display: grid;
  grid-template-rows: auto minmax(44vh, 1fr) auto; /* título | imagen | subtítulo */
  align-items: center;
  justify-items: center;

  padding-block: clamp(1.2rem, 5vh, 3.2rem);
  padding-inline: 1rem;
  row-gap: clamp(1.2rem, 3.5vh, 2.4rem);

  box-sizing: border-box;
  text-align: center;
  color: var(--fg-body);
}

/* La celda de la imagen se estira en vertical */
.home__content > .split-container{
  align-self: stretch;
  height: 100%;
  min-height: 0;
  z-index: 2;
}

/* ───────────────────────── Títulos ───────────────────────── */
.home__title,
.home__subtitle{
  position: relative;
  z-index: 2;
  font-family: var(--font-title);
  font-weight: 700;
  text-align: center;
  margin-inline: auto;
  line-height: 1.05;
  text-wrap: balance;
  max-width: 28ch;
  opacity: 0;                 /* se muestran con la animación */
  letter-spacing: .5px;
  font-size: clamp(3.6rem, 8vw, 5.2rem);
}

.home__title{    margin: 0 0 clamp(.6rem, 2vh, 1.2rem) 0; }
.home__subtitle{ margin: clamp(.6rem, 2vh, 1.2rem) 0 0 0; }

.home__subtitle{
  text-shadow: 0 1px 1px rgba(0,0,0,.15);
  padding-right: .3rem;
  color: inherit;
}

/* Medidor invisible para tamaño del texto */
.home__measure{ visibility: hidden; display: block; }

/* ─────────── Capas (dos colores lisos con clip invertido) ─────────── */
.home__layer{
  position: absolute;
  inset: 0;
  display: grid;
  place-items: center;
  white-space: inherit;
  pointer-events: none;
  will-change: clip-path;
}

/* Marrón: se revela desde la DERECHA (opuesto) */
.home__layer--brown{
  color: var(--law-brown);
  clip-path: inset(0 0 0 var(--cut, 50%));
}

/* Azul: se revela desde la IZQUIERDA (opuesto) */
.home__layer--blue{
  color: var(--law-blue);
  clip-path: inset(0 calc(100% - var(--cut, 50%)) 0 0);
  text-shadow: 0 1px 1px rgba(0,0,0,.12);
}

/* ─────────── Estado inicial (H1 marrón completo, H2 azul completo) ─────────── */
.home__title{    --cut: 0%;   }   /* muestra 100% marrón */
.home__subtitle{ --cut: 100%; }   /* muestra 100% azul   */

/* Al mover el slider, los textos pasan al color OPUESTO a la parte dominante */
.home.has-moved .home__title,
.home.has-moved .home__subtitle{
  --cut: calc(100% - var(--split-p));
}

/* ───────────────────────── Interacción Split ───────────────────────── */
.home.locked .split-container { pointer-events: none; cursor: default; }
.home.ready  .split-container { cursor: ew-resize; }

/* ───────────────────────── Animaciones de entrada ───────────────────────── */
.from-left  { transform: translateX(-120vw); }
.from-right { transform: translateX( 120vw); }

.is-in{ opacity: 1; }
.is-in.from-left  { animation: acrossLeft  var(--fx-dur) var(--fx-ease) both; }
.is-in.from-right { animation: acrossRight var(--fx-dur) var(--fx-ease) both; }

@keyframes acrossLeft{
  0%   { transform: translateX(-120vw); opacity: 0; }
  55%  { transform: translateX( 60vw);  opacity: 1; }
  80%  { transform: translateX(-10vw); }
  100% { transform: translateX(0);      opacity: 1; }
}
@keyframes acrossRight{
  0%   { transform: translateX(120vw);  opacity: 0; }
  55%  { transform: translateX(-60vw);  opacity: 1; }
  80%  { transform: translateX( 10vw);  }
  100% { transform: translateX(0);      opacity: 1; }
}

/* Reduce motion */
@media (prefers-reduced-motion: reduce){
  .from-left,.from-right{ transform:none; }
  .is-in{ animation:none !important; opacity:1 !important; }
}

/* ───────────────────────── Responsive ───────────────────────── */
@media (min-width: 768px){
  .home__content{
    grid-template-rows: 1fr;
    grid-template-columns:
      minmax(0, 1fr)
      minmax(26rem, 44vw)
      minmax(0, 1fr);
    align-items: center;
    column-gap: clamp(1rem, 3vw, 3rem);
    row-gap: 0;
    text-align: left;
    padding: 2rem 3rem;
  }

  .home__content > .split-container{
    align-self: stretch;
    justify-self: center;
    height: 100%;
    max-height: 100%;
  }

  .home__title,
  .home__subtitle{
    font-size: clamp(4.2rem, 6vw, 7.2rem);
  }

  .home__title{
    place-self: center start;
    margin-block: 0;
    max-width: min(32ch, 42vw);
    padding-inline: .5rem;
  }
  .home__subtitle{
    place-self: center end;
    margin-block: 0;
    max-width: min(32ch, 42vw);
    padding-inline: .5rem;
  }

  .home__title, .home__subtitle{
    font-size: clamp(3.4rem, 5.6vw, 6.8rem);
  }
}

@media (min-width: 1024px){
  .home__content{
    max-width: min(1400px, 96vw);
    column-gap: clamp(2rem, 5vw, 6rem);
  }
  .home__title, .home__subtitle{
    font-size: clamp(5rem, 4.8vw, 9rem);
  }
}
